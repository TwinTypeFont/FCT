<!doctype html>
<html lang="zh-TW">

<head>
    <meta charset="utf-8">
    <title>Font Comparison Tool</title>
    <link rel="icon" type="image/png" href="./images/./images/icon.png">
    <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chiron+Sung+HK:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Chiron+GoRound+TC:wght@200..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <div id="app" class="wrap">
        <div class="stack" style="justify-content:flex-end;margin-bottom:8px"><button class="btn" @click="lang = 'zh'"
                :disabled="lang === 'zh'">中文</button> <button class="btn" @click="lang = 'en'"
                :disabled="lang === 'en'">English</button></div>
        <div style="display:flex;align-items:center">
            <div style="width:25px;height:25px;margin-right:10px;background-image:url(./images/icon.png);background-size:cover">
            </div>
            <h1>{{ ui.title[lang] }}</h1>
        </div>
        <div class="grid">
            <div class="card">
                <p class="title">{{ ui.panel[lang] }}</p>
                <div class="row"><label><span>{{ ui.testText[lang] }}</span> <span class="badge">{{ text.length }}
                            {{ ui.chars[lang] }}</span></label> <textarea v-model="text"></textarea>
                    <div class="stack" style="margin-top:8px"><button class="btn"
                            @click="shuffleText">{{ ui.shuffle[lang] }}</button> <button class="btn"
                            @click="text = defaultTexts[0]">{{ ui.preset1[lang] }}</button> <button class="btn"
                            @click="text = defaultTexts[1]">{{ ui.preset2[lang] }}</button></div>
                </div>
                <div class="row"><label><span>{{ ui.fontSize[lang] }}</span><span
                            class="badge mono">{{ fontSize }}</span></label> <input type="range" min="12" max="128"
                        step="1" v-model.number="fontSize"></div>
                <div class="divider"></div>
                <div class="row"><label><span>{{ ui.lineHeight[lang] }}</span><span
                            class="badge mono">{{ lineHeight.toFixed(2) }}</span></label> <input type="range" min="0.9"
                        max="2.0" step="0.01" v-model.number="lineHeight"></div>
                <div class="row"><label><span>{{ ui.letterSpacing[lang] }}</span><span
                            class="badge mono">{{ letterSpacing }}</span></label> <input type="range" min="-2" max="20"
                        step="0.1" v-model.number="letterSpacing"></div>
                <div class="divider"></div>
                <div class="row"><label><span>{{ ui.blur[lang] }}</span><span
                            class="badge mono">{{ blurPx }}</span></label> <input type="range" min="0" max="20" step="1"
                        v-model.number="blurPx"></div>
                <div class="row"><label style="justify-content:flex-start;gap:10px"><input type="checkbox"
                            v-model="grayscale"> <span>{{ ui.grayscale[lang] }}</span></label></div>
                <div class="divider"></div>
                <div class="row"><label class="title" style="margin:0">{{ ui.palette[lang] }}</label>
                    <div class="color-pickers"><span class="badge">{{ ui.fg[lang] }}</span> <input type="color"
                            v-model="fg"> <span class="badge">{{ ui.bg[lang] }}</span> <input type="color" v-model="bg">
                    </div>
                    <div class="stack" style="margin-top:8px"><button class="btn"
                            @click="applyPalette('midnight')">{{ ui.palette1[lang] }}</button> <button class="btn"
                            @click="applyPalette('sand')">{{ ui.palette2[lang] }}</button> <button class="btn"
                            @click="applyPalette('crimson')">{{ ui.palette3[lang] }}</button> <button class="btn"
                            @click="randomPalette">{{ ui.paletteRandom[lang] }}</button></div>
                </div>
                <div class="divider"></div>
                <div class="row"><button class="btn" @click="exportJPG('a')">{{ ui.exportA[lang] }}</button> <span
                        class="badge mono">{{ ui.resolution[lang] }}</span></div>
                <div class="row"><button class="btn" @click="exportJPG('b')">{{ ui.exportB[lang] }}</button> <span
                        class="badge mono">{{ ui.resolution[lang] }}</span></div>
            </div>
            <div class="card">
                <p class="title">
                    {{ ui.previewA[lang] }}：{{ fontAName ? fontAName : (lang === 'zh' ? '（請上傳字型）' : '(Please upload font)') }}
                </p>
                <div class="metrics"><span class="badge mono">font-size: {{ fontSize }}px</span> <span
                        class="badge mono">line-height: {{ lineHeight.toFixed(2) }}</span> <span
                        class="badge mono">letter-spacing: {{ letterSpacing }}px</span> <span class="badge mono">filter:
                        gray({{ grayscale?1:0 }}) blur({{ blurPx }}px)</span></div>
                <div class="preview" :style="previewStyleA" ref="previewA">{{ text }}</div>
                <div class="stack" style="margin-top:12px"><input type="file" ref="fontAUpload"
                        accept=".ttf,.otf,.woff,.woff2" style="display:none" @change="handleFontAUpload"> <button
                        class="btn" @click="$refs.fontAUpload.click()">{{ ui.uploadA[lang] }}</button><template
                        v-for="(font, idx) in uploadedFontsA"><button class="btn" :key="font.name"
                            @click="setFontA(font.name)">{{ font.name }}</button></template></div>
                <div class="divider"></div>
                <p class="title">{{ ui.previewB[lang] }}：{{ fontBName }}{{ lang === 'zh' ? '（對照）' : ' (Reference)' }}
                </p>
                <div class="metrics"><span class="badge mono">font-size: {{ fontSize }}px</span> <span
                        class="badge mono">line-height: {{ lineHeight.toFixed(2) }}</span> <span
                        class="badge mono">letter-spacing: {{ letterSpacing }}px</span> <span class="badge mono">filter:
                        gray({{ grayscale?1:0 }}) blur({{ blurPx }}px)</span></div>
                <div class="preview" :style="previewStyleB" ref="previewB">{{ text }}</div>
                <div class="stack" style="margin-top:12px"><button class="btn"
                        @click="fontB = 'NotoSerifTC'">{{ ui.defaultFonts[lang] }}</button> <input type="file"
                        ref="fontUpload" accept=".ttf,.otf,.woff,.woff2" style="display:none"
                        @change="handleFontUpload"> <button class="btn"
                        @click="$refs.fontUpload.click()">{{ ui.uploadB[lang] }}</button><template
                        v-for="(font, idx) in uploadedFonts"><button class="btn" :key="font.name"
                            @click="fontB = font.name">{{ font.name }}</button></template></div>
            </div>
        </div>
                <div class="card">
            <div style="font-size:1.1em;font-weight:bold;margin-bottom:12px;">常見問題 Q&A</div>
            <div style="margin-top:0">
                <div style="font-size:1.25em;margin-bottom:8px;">
                    Q: 我上傳的字體會被截取嗎？ | Does the site keep a copy of my uploaded font?<br>
                </div>
                <div style="margin-bottom:8px">
                    <span>
                        A: 不會，這是純前端應用。您可以前往 <a href="https://github.com/TwinTypeFont/FCT" target="_blank">GitHub</a> 查看原始碼。<br>
                        A: No, this is a frontend APP. If you are concerned, you can check the source code on <a href="https://github.com/TwinTypeFont/FCT" target="_blank">GitHub</a>.
                    </span>
                </div>
            </div>
        </div>
    </div>

    </details>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://unpkg.com/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="main.js"></script>
    <hr>
    <footer style="display:flex;justify-content:center;height:90px;align-items:center">Powered by <a
            href="https://twintype.co/" target="_blank" style="text-decoration:none;color:inherit">TwinType</a></footer>
</body>

</html>